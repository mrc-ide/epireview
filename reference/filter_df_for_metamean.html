<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare parameter dataframe for meta analysis of means — filter_df_for_metamean • epireview</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare parameter dataframe for meta analysis of means — filter_df_for_metamean"><meta name="description" content="Prepare parameter dataframe for meta analysis of means"><meta property="og:description" content="Prepare parameter dataframe for meta analysis of means"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epireview</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/epireview_overview.html">epireview</a></li>
    <li><a class="dropdown-item" href="../articles/load-filter-view-epidata.html">load-filter-view-epidata</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mrc-ide/epireview/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prepare parameter dataframe for meta analysis of means</h1>
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/epireview/blob/main/R/filter_df_for_metamean.R" class="external-link"><code>R/filter_df_for_metamean.R</code></a></small>
      <div class="d-none name"><code>filter_df_for_metamean.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepare parameter dataframe for meta analysis of means</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filter_df_for_metamean</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>a parameter dataframe. This must have columns for each of the
following: parameter_value, parameter_unit, population_sample_size,
parameter_value_type, parameter_uncertainty_singe_type,
parameter_uncertainty_type, parameter_uncertainty_lower_value,
parameter_uncertainty_upper_value. This will typically be the <code>params</code>
data.frame from the output of <code>load_epidata</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a parameter dataframe with relevant rows selected and additional columns
added to facilitate the meta analysis of means. The additional columns are:
xbar, median, q1, q3, min, max.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function checks that the format of df is adequate for conducting a meta
analysis of means. It filters the dataframe to only include rows that meet the
required format.
We can only conduct a meta analysis for a parameter if its estimates have been
reported as (a) mean and standard deviation, (b) median and interquartile
range, or (c) median and range. This function filters the parameter dataframe
to only include rows that meet these criteria. It also checks that the
parameter values are all in the same units; and that the sample size is
reported for each parameter value.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## preparing data for meta analyses of delay from symptom onset to</span></span></span>
<span class="r-in"><span><span class="co">## hospitalisation for Lassa</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="load_epidata.html">load_epidata</a></span><span class="op">(</span><span class="st">"lassa"</span><span class="op">)</span><span class="op">[[</span><span class="st">"params"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Data loaded for lassa</span>
<span class="r-in"><span><span class="va">o2h_df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="va">df</span><span class="op">$</span><span class="va">parameter_type</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Human delay - symptom onset&gt;admission to care"</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">o2h_df_filtered</span> <span class="op">&lt;-</span> <span class="fu">filter_df_for_metamean</span><span class="op">(</span><span class="va">o2h_df</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> parameter_value must be present if parameter_unit is present. 1 row with non-NA</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> parameter_value and NA parameter_unit will be removed.</span>
<span class="r-in"><span><span class="co">## o2h_df_filtered could then be used directly in meta analyses as:</span></span></span>
<span class="r-in"><span><span class="co">## mtan &lt;- metamean(data = o2h_df_filtered, ...)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rebecca Nash, Christian Morgenstern, Cosmo Santoni, Sangeeta Bhatia, Richard Sheppard, Joseph Hicks, Gina Cuomo-Dannenburg, Ruth McCabe, Kelly McCain, Joshua Lambert, Anne Cori, Thomas Rawson, Patrick Doohan, Tristan Naidoo, Shazia Ruybal-Pesántez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

